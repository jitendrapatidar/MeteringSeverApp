{"version":3,"file":"HeaderRow.js","sourceRoot":"","sources":["../src/HeaderRow.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,MAAM,OAAO,CAAC;AAEjD,OAAO,UAAU,MAAM,cAAc,CAAC;AAEtC,OAAO,EAAE,gBAAgB,EAAE,MAAM,SAAS,CAAC;AAmB3C,SAAS,SAAS,CAA2B,EAC3C,OAAO,EACP,qBAAqB,EACrB,IAAI,EACJ,MAAM,EACN,oBAAoB,EACpB,eAAe,EACf,cAAc,EACd,UAAU,EACV,aAAa,EACb,MAAM,EACmB;IACzB,MAAM,4BAA4B,GAAG,WAAW,CAAC,CAAC,OAAgB,EAAE,EAAE;QACpE,IAAI,CAAC,oBAAoB;YAAE,OAAO;QAElC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAEzB,MAAM,eAAe,GAAG,IAAI,GAAG,EAAQ,CAAC;QACxC,IAAI,OAAO,EAAE;YACX,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;gBACtB,eAAe,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;aAClC;SACF;QAED,oBAAoB,CAAC,eAAe,CAAC,CAAC;IACxC,CAAC,EAAE,CAAC,oBAAoB,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;IAEzC,OAAO,CACL,6BAAK,SAAS,EAAC,gBAAgB,IAC5B,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;QACpB,OAAO,CACL,oBAAC,UAAU,IACT,GAAG,EAAE,MAAM,CAAC,GAAG,EACf,MAAM,EAAE,MAAM,EACd,qBAAqB,EAAE,qBAAqB,EAC5C,QAAQ,EAAE,cAAc,EACxB,eAAe,EAAE,eAAe,EAChC,wBAAwB,EAAE,4BAA4B,EACtD,MAAM,EAAE,MAAM,EACd,UAAU,EAAE,UAAU,EACtB,aAAa,EAAE,aAAa,GAC5B,CACH,CAAC;IACJ,CAAC,CAAC,CACE,CACP,CAAC;AACJ,CAAC;AAED,eAAe,IAAI,CAAC,SAAS,CAA+E,CAAC","sourcesContent":["import React, { useCallback, memo } from 'react';\n\nimport HeaderCell from './HeaderCell';\nimport { CalculatedColumn } from './common/types';\nimport { assertIsValidKey } from './utils';\nimport { DataGridProps } from './DataGrid';\n\ntype SharedDataGridProps<R, K extends keyof R, SR> = Pick<DataGridProps<R, K, SR>,\n  | 'rows'\n  | 'onSelectedRowsChange'\n  | 'sortColumn'\n  | 'sortDirection'\n  | 'onSort'\n  | 'rowKey'\n>;\n\nexport interface HeaderRowProps<R, K extends keyof R, SR> extends SharedDataGridProps<R, K, SR> {\n  lastFrozenColumnIndex: number;\n  columns: readonly CalculatedColumn<R, SR>[];\n  allRowsSelected: boolean;\n  onColumnResize: (column: CalculatedColumn<R, SR>, width: number) => void;\n}\n\nfunction HeaderRow<R, K extends keyof R, SR>({\n  columns,\n  lastFrozenColumnIndex,\n  rows,\n  rowKey,\n  onSelectedRowsChange,\n  allRowsSelected,\n  onColumnResize,\n  sortColumn,\n  sortDirection,\n  onSort\n}: HeaderRowProps<R, K, SR>) {\n  const handleAllRowsSelectionChange = useCallback((checked: boolean) => {\n    if (!onSelectedRowsChange) return;\n\n    assertIsValidKey(rowKey);\n\n    const newSelectedRows = new Set<R[K]>();\n    if (checked) {\n      for (const row of rows) {\n        newSelectedRows.add(row[rowKey]);\n      }\n    }\n\n    onSelectedRowsChange(newSelectedRows);\n  }, [onSelectedRowsChange, rows, rowKey]);\n\n  return (\n    <div className=\"rdg-header-row\">\n      {columns.map(column => {\n        return (\n          <HeaderCell<R, SR>\n            key={column.key}\n            column={column}\n            lastFrozenColumnIndex={lastFrozenColumnIndex}\n            onResize={onColumnResize}\n            allRowsSelected={allRowsSelected}\n            onAllRowsSelectionChange={handleAllRowsSelectionChange}\n            onSort={onSort}\n            sortColumn={sortColumn}\n            sortDirection={sortDirection}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\nexport default memo(HeaderRow) as <R, K extends keyof R, SR>(props: HeaderRowProps<R, K, SR>) => JSX.Element;\n"]}